<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>å…¬æ°‘æŠ•æ‰‹ - æ ¸ä¸‰å»¶å½¹æŒ‘æˆ°è³½ï¼</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: url('ball.png') no-repeat center center fixed;
      background-size: cover;
      text-align: center;
      cursor: url('https://cdn-icons-png.flaticon.com/512/726/726476.png') 16 16, auto;
    }
    canvas {background: transparent; border: none; margin-top: 20px;}
    #score, #timer { font-size: 20px; margin: 10px; }
    #result { font-size: 24px; margin-top: 20px; font-weight: bold; }
    button { padding: 10px 20px; font-size: 16px; margin-top: 20px; }
    #rules { font-size: 16px; margin: 15px; color: #333; }
    a { text-decoration: none; color: #1a0dab; }
  </style>
</head>
<body>
  <h1>å…¬æ°‘æŠ•æ‰‹ - æ ¸ä¸‰å»¶å½¹æŒ‘æˆ°è³½ï¼</h1>
  <div id="rules">
    ğŸ§¢ éŠæˆ²è¦å‰‡ï¼š<br>
    ä½ æ˜¯æŠ•æ‰‹ï¼Œç•«é¢æœƒå‡ºç¾ã€ŒåŒæ„ã€èˆ‡ã€Œä¸åŒæ„ã€æ¨™é¶ã€‚<br>
    é»æ“Šã€ŒåŒæ„ã€æ¨™é¶å¯å¾— +10 åˆ†ï¼Œé»åˆ°ã€Œä¸åŒæ„ã€æœƒæ‰£ -10 åˆ†ã€‚<br>
    æ™‚é™ 45 ç§’ï¼Œçœ‹çœ‹ä½ æ˜¯å¦æ˜¯å„ªè³ªå…¬æ°‘æŠ•æ‰‹ï¼<br>
    ğŸ‘‰ <a href="https://www.facebook.com/profile.php?id=61578306011159" target="_blank">é»æˆ‘è¿½è¹¤ã€Œé’å¹´æ”¿èƒ½é‡ã€ç²‰çµ²å°ˆé </a>
  </div>
  <div id="score">åˆ†æ•¸ï¼š0</div>
  <div id="timer">å‰©é¤˜æ™‚é–“ï¼š45</div>
  <canvas id="gameCanvas" width="600" height="400"></canvas>
  <div id="result"></div>
  <button onclick="startGame()">é–‹å§‹ / å†ç©ä¸€æ¬¡</button>
  <script>
    function startGame() {
      score = 0;
      timeLeft = 45;
      targets = [];
      scoreEl.textContent = "åˆ†æ•¸ï¼š" + score;
      timerEl.textContent = "å‰©é¤˜æ™‚é–“ï¼š" + timeLeft;
      resultEl.textContent = "";
      gameInterval = setInterval(updateGame, 1000);
      timerInterval = setInterval(() => {
        timeLeft--;
        timerEl.textContent = "å‰©é¤˜æ™‚é–“ï¼š" + timeLeft;
        if (timeLeft <= 0) {
          endGame();
        }
      }, 1000);
    }

    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const scoreEl = document.getElementById('score');
    const timerEl = document.getElementById('timer');
    const resultEl = document.getElementById('result');

    let score = 0;
    let timeLeft = 45;
    let targets = [];

    function randomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function spawnTarget() {
      const isAgree = Math.random() < 0.6;
      const text = isAgree ? "âœ…åŒæ„" : "âŒä¸åŒæ„";
      const color = isAgree ? "blue" : "green";
      const target = {
        x: randomInt(50, 550),
        y: randomInt(50, 350),
        radius: 30,
        text: text,
        color: color,
        isAgree: isAgree
      };
      targets.push(target);
      if (targets.length > 5) targets.shift();
    }

    function drawTargets() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      targets.forEach(t => {
        ctx.beginPath();
        ctx.arc(t.x, t.y, t.radius, 0, Math.PI * 2);
        ctx.fillStyle = t.color;
        ctx.fill();
        ctx.fillStyle = "#fff";
        ctx.font = "14px Arial";
        ctx.textAlign = "center";
        ctx.fillText(t.text, t.x, t.y + 5);
      });
    }

    canvas.addEventListener('click', function(e) {
      const rect = canvas.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      const mouseY = e.clientY - rect.top;
      targets.forEach((t, index) => {
        const dx = t.x - mouseX;
        const dy = t.y - mouseY;
        if (Math.sqrt(dx * dx + dy * dy) < t.radius) {
          if (t.isAgree) {
            score += 10;
          } else {
            score -= 10;
          }
          scoreEl.textContent = "åˆ†æ•¸ï¼š" + score;
          targets.splice(index, 1);
        }
      });
    });

    function updateGame() {
      spawnTarget();
      drawTargets();
    }

    function endGame() {
      clearInterval(gameInterval);
      clearInterval(timerInterval);
      canvas.removeEventListener('click', null);
      let resultText = score >= 120 ? "ä½ æ˜¯å„ªè³ªå…¬æ°‘æŠ•æ‰‹ï¼" :
                       score >= 80 ? "ä½ æŠ•å¾—ä¸éŒ¯ï¼Œå†åŠ æŠŠå‹ï¼" :
                       "ç«‹å ´ä¸å¤ æ˜ç¢ºï¼Œå†ç·´ç·´å§ï¼";
      resultEl.textContent = `ç¸½åˆ†ï¼š${score}ï½œ${resultText}`;
    }
  </script>
</body>
</html>
